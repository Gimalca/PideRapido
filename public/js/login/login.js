var CanvasBG=function(t){function e(t){target=t.Loc,h=document.getElementById("canvas-wrapper"),g=document.getElementById("demo-canvas"),g.width=u,g.height=f,m=g.getContext("2d"),w=[];for(var e=0;u>e;e+=u/20)for(var n=0;f>n;n+=f/20){var o=e+Math.random()*u/20,i=n+Math.random()*f/20,a={x:o,originX:o,y:i,originY:i};w.push(a)}for(var r=0;r<w.length;r++){for(var c=[],l=w[r],d=0;d<w.length;d++){var p=w[d];if(l!=p){for(var y=!1,x=0;5>x;x++)y||void 0==c[x]&&(c[x]=p,y=!0);for(var x=0;5>x;x++)y||v(l,p)<v(l,c[x])&&(c[x]=p,y=!0)}}l.closest=c}for(var r in w){var M=new s(w[r],2+2*Math.random(),"rgba(255,255,255,0.3)");w[r].circle=M}}function n(){"ontouchstart"in window||window.addEventListener("mousemove",o),window.addEventListener("scroll",i),window.addEventListener("resize",a)}function o(t){var e=posy=0;t.pageX||t.pageY?(e=t.pageX,posy=t.pageY):(t.clientX||t.clientY)&&(e=t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,posy=t.clientY+document.body.scrollTop+document.documentElement.scrollTop),target.x=e,target.y=posy}function i(){p=document.body.scrollTop>f?!1:!0}function a(){u=window.innerWidth,f=window.innerHeight,h.style.height=f+"px",g.width=u,g.height=f}function r(){c();for(var t in w)l(w[t])}function c(){if(p){m.clearRect(0,0,u,f);for(var t in w)Math.abs(v(target,w[t]))<4e3?(w[t].active=.3,w[t].circle.active=.6):Math.abs(v(target,w[t]))<2e4?(w[t].active=.1,w[t].circle.active=.3):Math.abs(v(target,w[t]))<4e4?(w[t].active=.02,w[t].circle.active=.1):(w[t].active=0,w[t].circle.active=0),d(w[t]),w[t].circle.draw()}requestAnimationFrame(c)}function l(t){TweenLite.to(t,1+1*Math.random(),{x:t.originX-50+100*Math.random(),y:t.originY-50+100*Math.random(),ease:Circ.easeInOut,onComplete:function(){l(t)}})}function d(t){if(t.active)for(var e in t.closest)m.beginPath(),m.moveTo(t.x,t.y),m.lineTo(t.closest[e].x,t.closest[e].y),m.strokeStyle="rgba(156,217,249,"+t.active+")",m.stroke()}function s(t,e,n){var o=this;!function(){o.pos=t||null,o.radius=e||null,o.color=n||null}(),this.draw=function(){o.active&&(m.beginPath(),m.arc(o.pos.x,o.pos.y,o.radius,0,2*Math.PI,!1),m.fillStyle="rgba(156,217,249,"+o.active+")",m.fill())}}function v(t,e){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)}var u,f,h,g,m,w,p=!0;return{init:function(t){u=window.innerWidth,f=window.innerHeight;var o={Loc:{x:u/2,y:f/1}},t=$.extend({},o,t);e(t),r(),n()}}}();